-- Release game on itch.io
-- Switches 
-- Level engine abstraction

local levels = {}
--every level is now 15x15, 9,9 is centre point
levels.data = {}
--[[ level 1 
map = {
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,}, -- center row
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,},
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,}
    }
 ]]
-- intro movement
levels.data[1] = {
    message = "Use the arrow keys to meet your friend!",
    player_start_x = 7,
    player_start_y = 9,
    target_start_x = 11, 
    target_start_y = 9,
    map = {
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5,},
    { 5, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 5,},
    { 5, 6, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 6, 5,},
    { 5, 6, 5, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 6, 5,}, -- center row
    { 5, 6, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 6, 5,},
    { 5, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 5,},
    { 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,}
    }
}

-- intro movement pt 2
levels.data[2] = {
    message = "Okay that was too easy. Sometimes you must accomplish your goals before love finds you!",
    player_start_x = 7,
    player_start_y = 7,
    target_start_x = 11, 
    target_start_y = 11,
    map = {
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 0, 0, 3, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 5, 5,}, -- center row
    { 5, 5, 5, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 4, 0, 0, 0, 0, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,}
    }
}
-- intro death
levels.data[3] = {
    message = "Watch out for the red tiles! Hopefully the trials and tribulations of life won't get you down...",
    player_start_x = 7,
    player_start_y = 7,
    target_start_x = 11, 
    target_start_y = 11,
    map = {
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 1, 5, 5, 5, 5, 5, 5, 5, 5, 5, 1, 5, 5,},
    { 5, 1, 6, 1, 5, 5, 5, 5, 5, 5, 5, 1, 6, 1, 5,},
    { 5, 5, 1, 5, 1, 1, 1, 1, 1, 1, 1, 5, 1, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 0, 2, 3, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 2, 0, 2, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 5, 5,}, -- center row
    { 5, 5, 5, 1, 0, 2, 0, 2, 0, 0, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 4, 2, 0, 0, 0, 0, 1, 5, 5, 5,},
    { 5, 5, 5, 1, 0, 0, 0, 0, 0, 0, 0, 1, 5, 5, 5,},
    { 5, 5, 1, 5, 1, 1, 1, 1, 1, 1, 1, 5, 1, 5, 5,},
    { 5, 1, 6, 1, 5, 5, 5, 5, 5, 5, 5, 1, 6, 1, 5,},
    { 5, 5, 1, 5, 5, 5, 5, 5, 5, 5, 5, 5, 1, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,}
    }
}

levels.data[4] = {
    message = "Some levels will require more thinking than others. Good luck!",
    player_start_x = 5,
    player_start_y = 5,
    target_start_x = 13, 
    target_start_y = 13,
    map = {
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 1, 1, 2, 1, 2, 1, 2, 1, 1, 5, 5, 5,},
    { 5, 5, 1, 1, 0, 0, 0, 0, 0, 0, 0, 2, 1, 5, 5,},
    { 5, 5, 1, 0, 0, 1, 2, 1, 0, 1, 0, 0, 1, 5, 5,},
    { 5, 5, 2, 0, 2, 1, 0, 0, 0, 0, 0, 0, 1, 5, 5,},
    { 5, 5, 1, 0, 0, 0, 0, 1, 2, 0, 1, 0, 2, 5, 5,},
    { 5, 5, 2, 0, 0, 1, 0, 1, 1, 0, 2, 0, 1, 5, 5,}, -- center row
    { 5, 5, 1, 0, 0, 0, 0, 2, 0, 0, 1, 0, 1, 5, 5,},
    { 5, 5, 1, 0, 1, 2, 0, 0, 0, 2, 1, 0, 2, 5, 5,},
    { 5, 5, 1, 0, 0, 1, 1, 0, 1, 1, 0, 0, 1, 5, 5,},
    { 5, 5, 1, 2, 0, 0, 0, 0, 0, 0, 0, 2, 1, 5, 5,},
    { 5, 5, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,},
    { 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,}
    }
}


levels.data[5] = {
    message = "I did not want you to make it this far. Luckily this is the end of the road.",
    player_start_x = 7,
    player_start_y = 3,
    target_start_x = 11,
    target_start_y = 13,
    map = {
    { 5, 5, 1, 5, 1, 5, 5, 5, 5, 5, 1, 5, 1, 5, 5,},
    { 5, 1, 2, 1, 0, 1, 5, 5, 5, 1, 0, 1, 2, 1, 5,},
    { 1, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1,},
    { 5, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 1, 5,},
    { 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1,},
    { 5, 1, 0, 0, 2, 0, 0, 1, 0, 0, 2, 0, 0, 1, 5,},
    { 5, 5, 1, 0, 0, 0, 1, 5, 1, 0, 0, 0, 1, 5, 5,},
    { 5, 5, 1, 0, 2, 1, 5, 2, 5, 1, 0, 0, 1, 5, 5,}, -- center row
    { 5, 5, 1, 0, 0, 0, 1, 5, 1, 0, 0, 0, 1, 5, 5,},
    { 5, 1, 0, 2, 0, 0, 0, 1, 0, 0, 0, 2, 0, 1, 5,},
    { 1, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 1,},
    { 5, 1, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 5,},
    { 1, 2, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1,},
    { 5, 1, 0, 1, 2, 1, 5, 5, 5, 1, 0, 1, 0, 1, 5,},
    { 5, 5, 1, 5, 1, 5, 5, 5, 5, 5, 1, 5, 1, 5, 5,}
    }
}
--sacrifice level
levels.data[6] = {
 message = "Nothing good lasts forever. Sometimes, to move forward, you have to leave something behind.",
 player_start_x = 4,
 player_start_y = 4,
 target_start_x = 8,
 target_start_y = 8,
 map = {
 { 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,},
 { 2, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 3, 2,},
 { 2, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 3, 2,},
 { 2, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 3, 2,},
 { 2, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 3, 2,},
 { 2, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 3, 2,},
 { 2, 0, 0, 0, 0, 0, 0, 2, 3, 3, 3, 3, 3, 3, 2,},
 { 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,}, -- center row
 { 2, 4, 4, 4, 4, 4, 4, 2, 0, 0, 0, 0, 0, 0, 2,},
 { 2, 4, 4, 4, 4, 4, 4, 2, 0, 0, 0, 0, 0, 0, 2,},
 { 2, 4, 4, 4, 4, 4, 4, 2, 0, 0, 0, 0, 0, 0, 2,},
 { 2, 4, 4, 4, 4, 4, 4, 2, 0, 0, 0, 0, 0, 0, 2,},
 { 2, 4, 4, 4, 4, 4, 4, 2, 0, 0, 0, 0, 0, 0, 2,},
 { 2, 4, 4, 4, 4, 4, 4, 2, 0, 0, 0, 0, 0, 0, 2,},
 { 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,}
 }
}
function levels.get(n)
    return levels.data[n].map, levels.data[n].player_start_x, levels.data[n].player_start_y, levels.data[n].target_start_x, levels.data[n].target_start_y
end

function levels.count()
    return #levels.data
end

return levels
